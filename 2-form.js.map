{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = { email: '', message: '' };\nconst feedbackFormState = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nconst input = document.querySelector('.email-input');\nconst textarea = document.querySelector('.textarea');\n\nform.addEventListener('input', handleForm);\n\nfunction handleForm() {\n  formData.message = form.elements.message.value;\n  formData.email = form.elements.email.value;\n\n  localStorage.setItem(feedbackFormState, JSON.stringify(formData));\n}\n\nconst savedDataStorage =\n  JSON.parse(localStorage.getItem(feedbackFormState)) ?? {};\n// Почему обьект, а не массив?\n\nif (Object.keys(savedDataStorage).length > 0) {\n  formData.email = savedDataStorage.email;\n  formData.message = savedDataStorage.message;\n  form.elements.message.value = savedDataStorage.message;\n  form.elements.email.value = savedDataStorage.email;\n}\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  if (!(form.elements.email.value && form.elements.message.value)) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  localStorage.removeItem(feedbackFormState);\n  formData.email = '';\n  formData.message = '';\n  form.elements.message.value = '';\n  form.elements.email.value = '';\n}\n\n// const instance =\n//   basicLightbox.create(`<form class=\"feedback-form\" autocomplete=\"off\">\n//         <label class=\"label email-label\">\n//           Email\n//           <input\n//             class=\"text-in email-input\"\n//             type=\"email\"\n//             name=\"email\"\n//             autofocus\n//           />\n//         </label>\n//         <label class=\"label message-label\">\n//           Message\n//           <textarea class=\"text-in textarea\" name=\"message\" rows=\"8\"></textarea>\n//         </label>\n//         <button class=\"button\" type=\"submit\">Submit</button>\n//       </form>`);\n\n// instance.show();\n"],"names":["formData","feedbackFormState","form","handleForm","savedDataStorage","handleSubmit","event"],"mappings":"oDAAA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACvC,MAAMC,EAAoB,sBAEpBC,EAAO,SAAS,cAAc,gBAAgB,EACtC,SAAS,cAAc,cAAc,EAClC,SAAS,cAAc,WAAW,EAEnDA,EAAK,iBAAiB,QAASC,CAAU,EAEzC,SAASA,GAAa,CACpBH,EAAS,QAAUE,EAAK,SAAS,QAAQ,MACzCF,EAAS,MAAQE,EAAK,SAAS,MAAM,MAErC,aAAa,QAAQD,EAAmB,KAAK,UAAUD,CAAQ,CAAC,CAClE,CAEA,MAAMI,EACJ,KAAK,MAAM,aAAa,QAAQH,CAAiB,CAAC,GAAK,GAGrD,OAAO,KAAKG,CAAgB,EAAE,OAAS,IACzCJ,EAAS,MAAQI,EAAiB,MAClCJ,EAAS,QAAUI,EAAiB,QACpCF,EAAK,SAAS,QAAQ,MAAQE,EAAiB,QAC/CF,EAAK,SAAS,MAAM,MAAQE,EAAiB,OAG/CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAE3B,GADAA,EAAM,eAAc,EAChB,EAAEJ,EAAK,SAAS,MAAM,OAASA,EAAK,SAAS,QAAQ,OAAQ,CAC/D,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIF,CAAQ,EACpB,aAAa,WAAWC,CAAiB,EACzCD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBE,EAAK,SAAS,QAAQ,MAAQ,GAC9BA,EAAK,SAAS,MAAM,MAAQ,EAC9B"}