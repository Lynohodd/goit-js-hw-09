{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = { email: '', message: '' };\nconst feedbackFormState = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', handleForm);\nform.addEventListener('submit', handleSubmit);\n\nfunction handleForm() {\n  formData.message = form.elements.message.value;\n  formData.email = form.elements.email.value;\n\n  localStorage.setItem(feedbackFormState, JSON.stringify(formData));\n}\n\nconst savedDataStorage =\n  JSON.parse(localStorage.getItem(feedbackFormState)) ?? {};\n\nif (Object.keys(savedDataStorage).length > 0) {\n  formData.email = savedDataStorage.email;\n  formData.message = savedDataStorage.message;\n  form.elements.message.value = savedDataStorage.message;\n  form.elements.email.value = savedDataStorage.email;\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  if (!(form.elements.email.value && form.elements.message.value)) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  localStorage.removeItem(feedbackFormState);\n  formData.email = '';\n  formData.message = '';\n  form.elements.message.value = '';\n  form.elements.email.value = '';\n}\n"],"names":["formData","feedbackFormState","form","handleForm","handleSubmit","savedDataStorage","event"],"mappings":"oDAAA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACvC,MAAMC,EAAoB,sBAEpBC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAASC,CAAU,EACzCD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASD,GAAa,CACpBH,EAAS,QAAUE,EAAK,SAAS,QAAQ,MACzCF,EAAS,MAAQE,EAAK,SAAS,MAAM,MAErC,aAAa,QAAQD,EAAmB,KAAK,UAAUD,CAAQ,CAAC,CAClE,CAEA,MAAMK,EACJ,KAAK,MAAM,aAAa,QAAQJ,CAAiB,CAAC,GAAK,GAErD,OAAO,KAAKI,CAAgB,EAAE,OAAS,IACzCL,EAAS,MAAQK,EAAiB,MAClCL,EAAS,QAAUK,EAAiB,QACpCH,EAAK,SAAS,QAAQ,MAAQG,EAAiB,QAC/CH,EAAK,SAAS,MAAM,MAAQG,EAAiB,OAG/C,SAASD,EAAaE,EAAO,CAE3B,GADAA,EAAM,eAAc,EAChB,EAAEJ,EAAK,SAAS,MAAM,OAASA,EAAK,SAAS,QAAQ,OAAQ,CAC/D,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIF,CAAQ,EACpB,aAAa,WAAWC,CAAiB,EACzCD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBE,EAAK,SAAS,QAAQ,MAAQ,GAC9BA,EAAK,SAAS,MAAM,MAAQ,EAC9B"}